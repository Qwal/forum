"use strict";define("flags",["benchpress"],function(a){var t={};var n;var e;var s;t.showFlagModal=function(o){i(o,function(t){n=$(t);n.on("hidden.bs.modal",function(){n.remove()});e=n.find("#flag-post-commit");s=n.find("#flag-reason-custom");n.on("click",".flag-reason",function(){var a=$(this).text();if(s.val().length===0){return l(o.type,o.id,a)}bootbox.confirm({title:"[[flags:modal-submit-confirm]]",message:'<p>[[flags:modal-submit-confirm-text]]</p><p class="help-block">[[flags:modal-submit-confirm-text-help]]</p>',callback:function(t){if(t){l(o.type,o.id,a)}}})});e.on("click",function(){l(o.type,o.id,n.find("#flag-reason-custom").val())});n.on("click",".toggle-custom",function(){s.prop("disabled",false);s.focus()});n.modal("show");n.find("#flag-reason-custom").on("keyup blur change",r)})};function i(t,o){a.parse("partials/modals/flag_modal",t,function(a){require(["translator"],function(t){t.translate(a,o)})})}function l(t,a,o){if(!t||!a||!o){return}socket.emit("flags.create",{type:t,id:a,reason:o},function(t){if(t){return app.alertError(t.message)}n.modal("hide");app.alertSuccess("[[flags:modal-submit-success]]")})}function r(){if(n.find("#flag-reason-custom").val()){e.removeAttr("disabled")}else{e.attr("disabled",true)}}return t});
//# sourceMappingURL=public/src/modules/flags.js.map