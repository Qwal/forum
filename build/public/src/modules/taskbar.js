"use strict";define("taskbar",["benchpress"],function(t){var n={};n.init=function(){var a=this;t.parse("modules/taskbar",{},function(t){a.taskbar=$(t);a.tasklist=a.taskbar.find("ul");$(document.body).append(a.taskbar);a.taskbar.on("click","li",function(){var a=$(this);var t=a.attr("data-module");var i=a.attr("data-uuid");require([t],function(t){if(!a.hasClass("active")){s();t.load(i);n.toggleNew(i,false);app.alternatingTitle("");n.tasklist.removeClass("active");a.addClass("active")}else{t.minimize(i)}});return false})})};n.discard=function(t,a){var i=n.tasklist.find('[data-module="'+t+'"][data-uuid="'+a+'"]');i.remove();e()};n.push=function(t,a,i){var e=n.tasklist.find('li[data-uuid="'+a+'"]');var s={module:t,uuid:a,options:i,element:e};$(window).trigger("filter:taskbar.push",s);if(!e.length&&s.module){d(s)}};n.get=function(t){var a=$('[data-module="'+t+'"]').map(function(t,a){return $(a).data()});return a};n.minimize=function(t,a){var i=n.tasklist.find('[data-module="'+t+'"][data-uuid="'+a+'"]');i.toggleClass("active",false)};n.toggleNew=function(t,a,i){var e=n.tasklist.find('[data-uuid="'+t+'"]');e.toggleClass("new",a);if(!i){$(window).trigger("action:taskbar.toggleNew",t)}};n.updateActive=function(t){var a=n.tasklist.find("li");a.removeClass("active");a.filter('[data-uuid="'+t+'"]').addClass("active")};n.isActive=function(t){var a=n.tasklist.find('li[data-uuid="'+t+'"]');return a.hasClass("active")};function e(){var t=n.tasklist.find("li");if(t.length>0){n.taskbar.attr("data-active","1")}else{n.taskbar.removeAttr("data-active")}}function s(){n.tasklist.find(".active").removeClass("active")}function d(t){var a=$("<div></div>").text(t.options.title||"NodeBB Task").html();var i=$("<li />").addClass(t.options.className).html('<a href="#">'+(t.options.icon?'<i class="fa '+t.options.icon+'"></i> ':"")+(t.options.image?'<img src="'+t.options.image+'"/> ':"")+'<span component="taskbar/title">'+a+"</span>"+"</a>").attr({"data-module":t.module,"data-uuid":t.uuid}).addClass(t.options.state!==undefined?t.options.state:"active");if(!t.options.state||t.options.state==="active"){s()}n.tasklist.append(i);e();t.element=i;i.data(t);$(window).trigger("action:taskbar.pushed",t)}n.updateTitle=function(t,a,i){n.tasklist.find('[data-module="'+t+'"][data-uuid="'+a+'"] [component="taskbar/title"]').text(i)};return n});
//# sourceMappingURL=public/src/modules/taskbar.js.map