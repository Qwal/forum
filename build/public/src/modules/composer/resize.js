"use strict";define("composer/resize",[],function(){var o={};var d=0;var a=.3;var c=.05;var m=992;var f=$("body");var l=$(window);var e=$('[component="navbar"]');var t=document.documentElement;var u=document.body;var i=e[0];function n(){return localStorage.getItem("composer:resizeRatio")||.5}function h(e){localStorage.setItem("composer:resizeRatio",Math.min(e,1))}function g(){var e=i.getBoundingClientRect();var t={top:0,left:0,right:window.innerWidth,bottom:window.innerHeight};t.width=t.right;t.height=t.bottom;t.boundedTop=e.bottom;t.boundedHeight=t.bottom-e.bottom;return t}function r(e,t){var o=g();var i=e[0];if(o.width>=m){t=Math.min(Math.max(t,a),1);var n=t*o.boundedHeight/o.height;i.style.top=((1-n)*100).toString()+"%";var r=i.getBoundingClientRect();u.style.paddingBottom=(r.bottom-r.top).toString()+"px"}else{e.removeAttr("style");u.style.paddingBottom=0}e.ratio=t;i.style.visibility="visible"}var p=r;var s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;if(s){p=function(e,t){s(function(){r(e,t);setTimeout(function(){l.trigger("action:composer.resize");e.trigger("action:composer.resize")},0)})}}o.reposition=function(e){var t=n();if(t>=1-c){t=1;e.addClass("maximized")}p(e,t)};o.maximize=function(e,t){if(t){p(e,1)}else{o.reposition(e)}};o.handleResize=function(n){var r=0;var a=0;var m=0;var e=n.find(".resizer");var i=e[0];function t(e){var t=i.getBoundingClientRect();var o=(t.top+t.bottom)/2;r=(o-e.clientY)/2;a=e.clientY;l.on("mousemove",u);l.on("mouseup",s);f.on("touchmove",v)}function u(e){var t=e.clientY-r;var o=g();var i=(o.height-t)/o.boundedHeight;p(n,i)}function s(e){e.preventDefault();m=e.clientY;n.find("textarea").focus();l.off("mousemove",u);l.off("mouseup",s);f.off("touchmove",v);var t=m-r;var o=g();var i=(o.height-t)/o.boundedHeight;if(m-a===0&&n.hasClass("maximized")){n.removeClass("maximized");i=!d||d>=1-c?.5:d;p(n,i)}else if(m-a===0||i>=1-c){p(n,1);n.addClass("maximized");d=i}else{n.removeClass("maximized")}h(i)}function v(e){e.preventDefault();u(e.touches[0])}e.on("mousedown",function(e){e.preventDefault();t(e)}).on("touchstart",function(e){e.preventDefault();t(e.touches[0])}).on("touchend",s)};return o});
//# sourceMappingURL=node_modules/nodebb-plugin-composer-default/static/lib/composer/resize.js.map