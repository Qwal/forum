"use strict";define("autocomplete",function(){var e={};e.user=function(e,t){app.loadJQueryUI(function(){e.autocomplete({delay:200,open:function(){$(this).autocomplete("widget").css("z-index",100005)},select:t,source:function(e,a){socket.emit("user.search",{query:e.term},function(e,t){if(e){return app.alertError(e.message)}if(t&&t.users){var u=t.users.map(function(e){var t=$("<div/>").html(e.username).text();return e&&{label:t,value:t,user:{uid:e.uid,name:e.username,slug:e.userslug,username:e.username,userslug:e.userslug,picture:e.picture,"icon:text":e["icon:text"],"icon:bgColor":e["icon:bgColor"]}}});a(u)}$(".ui-autocomplete a").attr("data-ajaxify","false")})}})})};e.group=function(e,t){app.loadJQueryUI(function(){e.autocomplete({delay:200,select:t,source:function(e,a){socket.emit("groups.search",{query:e.term},function(e,t){if(e){return app.alertError(e.message)}if(t&&t.length){var u=t.map(function(e){return e&&{label:e.name,value:e.name,group:{name:e.name,slug:e.slug}}});a(u)}$(".ui-autocomplete a").attr("data-ajaxify","false")})}})})};e.tag=function(a,r){app.loadJQueryUI(function(){a.autocomplete({delay:100,open:function(){$(this).autocomplete("widget").css("z-index",2e4)},select:function(e,t){r=r||function(){};var u=jQuery.Event("keypress");u.which=13;u.keyCode=13;setTimeout(function(){a.trigger(u)},100);r(e,t)},source:function(e,u){socket.emit("topics.autocompleteTags",{query:e.term,cid:ajaxify.data.cid||0},function(e,t){if(e){return app.alertError(e.message)}if(t){u(t)}$(".ui-autocomplete a").attr("data-ajaxify","false")})}})})};return e});
//# sourceMappingURL=public/src/modules/autocomplete.js.map