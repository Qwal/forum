"use strict";define("storage",function(){function t(){this._store={};this._keys=[]}t.prototype.isMock=true;t.prototype.setItem=function(e,t){e=String(e);if(this._keys.indexOf(e)===-1){this._keys.push(e)}this._store[e]=t};t.prototype.getItem=function(e){e=String(e);if(this._keys.indexOf(e)===-1){return null}return this._store[e]};t.prototype.removeItem=function(t){t=String(t);this._keys=this._keys.filter(function(e){return e!==t});this._store[t]=null};t.prototype.clear=function(){this._keys=[];this._store={}};t.prototype.key=function(e){e=parseInt(e,10)||0;return this._keys[e]};if(Object.defineProperty){Object.defineProperty(t.prototype,"length",{get:function(){return this._keys.length}})}var r;var o=Date.now().toString();try{r=window.localStorage;r.setItem(o,o);if(r.getItem(o)!==o){throw Error("localStorage behaved unexpectedly")}r.removeItem(o);return r}catch(e){console.warn(e);console.warn("localStorage failed, falling back on sessionStorage");try{r=window.sessionStorage;r.setItem(o,o);if(r.getItem(o)!==o){throw Error("sessionStorage behaved unexpectedly")}r.removeItem(o);return r}catch(e){console.warn(e);console.warn("sessionStorage failed, falling back on memory storage");return new t}}});
//# sourceMappingURL=public/src/modules/storage.js.map