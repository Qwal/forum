"use strict";define("forum/account/edit/username",["forum/account/header"],function(e){var r={};r.init=function(){e.init();$("#submitBtn").on("click",function e(){var n={uid:$("#inputUID").val(),username:$("#inputNewUsername").val(),password:$("#inputCurrentPassword").val()};if(!n.username){return}if(n.username===n.password){return app.alertError("[[user:username_same_as_password]]")}var t=$(this);t.addClass("disabled").find("i").removeClass("hide");socket.emit("user.changeUsernameEmail",n,function(e,r){t.removeClass("disabled").find("i").addClass("hide");if(e){return app.alertError(e.message)}var a=utils.slugify(n.username);if(n.username&&a&&parseInt(n.uid,10)===parseInt(app.user.uid,10)){$('[component="header/profilelink"]').attr("href",config.relative_path+"/user/"+a);$('[component="header/profilelink/edit"]').attr("href",config.relative_path+"/user/"+a+"/edit");$('[component="header/profilelink/settings"]').attr("href",config.relative_path+"/user/"+a+"/settings");$('[component="header/username"]').text(n.username);$('[component="header/usericon"]').css("background-color",r["icon:bgColor"]).text(r["icon:text"])}ajaxify.go("user/"+a+"/edit")});return false})};return r});
//# sourceMappingURL=public/src/client/account/edit/username.js.map