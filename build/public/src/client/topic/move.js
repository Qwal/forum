"use strict";define("forum/topic/move",["categorySelector"],function(t){var i={};var n;var o;i.init=function(e,o,t){i.tids=e;i.currentCid=o;i.onComplete=t;i.moveAll=!e;socket.emit("categories.getMoveCategories",r)};function r(e,o){if(e){return app.alertError(e.message)}c(o,function(){n.on("hidden.bs.modal",function(){n.remove()});n.find("#move-confirm").addClass("hide");if(i.moveAll||i.tids&&i.tids.length>1){n.find(".modal-header h3").translateText("[[topic:move_topics]]")}t.init(n.find('[component="category-selector"]'),a);n.find("#move_thread_commit").on("click",d);n.modal("show")})}function c(e,o){app.parseAndTranslate("partials/move_thread_modal",{categories:e},function(e){n=$(e);o()})}function a(e){o=e;n.find("#move_thread_commit").prop("disabled",false)}function d(){var e=n.find("#move_thread_commit");if(!e.prop("disabled")&&o&&o.cid){e.prop("disabled",true);m()}}function m(){var e={tids:i.tids,cid:o.cid,currentCid:i.currentCid};$(window).trigger("action:topic.move",e);socket.emit(i.moveAll?"topics.moveAll":"topics.move",e,function(e){n.modal("hide");if(e){return app.alertError(e.message)}app.alertSuccess("[[topic:topic_move_success, "+o.name+"]]");if(typeof i.onComplete==="function"){i.onComplete()}})}return i});
//# sourceMappingURL=public/src/client/topic/move.js.map