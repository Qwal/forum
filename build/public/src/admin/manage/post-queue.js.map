{"version":3,"sources":["public/src/admin/manage/post-queue.js"],"names":["define","PostQueue","init","$","tooltip","on","parent","this","parents","action","attr","id","method","socket","emit","err","app","alertError","message","remove","el","content","find","html"],"mappings":"AAAA,aAGAA,OAAO,0BAA2B,WACjC,IAAIC,KAEJA,EAAUC,KAAO,WAChBC,EAAE,2BAA2BC,UAE7BD,EAAE,eAAeE,GAAG,QAAS,gBAAiB,WAC7C,IAAIC,EAASH,EAAEI,MAAMC,QAAQ,aAC7B,IAAIC,EAASN,EAAEI,MAAMG,KAAK,eAC1B,IAAIC,EAAKL,EAAOI,KAAK,WACrB,IAAIE,EAASH,IAAW,SAAW,eAAiB,eAEpDI,OAAOC,KAAKF,GAAUD,GAAIA,GAAM,SAAUI,GACzC,GAAIA,EAAK,CACR,OAAOC,IAAIC,WAAWF,EAAIG,SAE3BZ,EAAOa,WAER,OAAO,QAGRhB,EAAE,eAAeE,GAAG,QAAS,YAAa,WACzC,IAAIe,EAAKjB,EAAEI,MACXM,OAAOC,KAAK,2BACXH,GAAIS,EAAGV,KAAK,WACZW,QAASD,EAAGE,KAAK,iBAAiBC,QAChC,SAAUR,GACZ,GAAIA,EAAK,CACR,OAAOC,IAAIC,WAAWF,SAM1B,OAAOd","file":"public/src/admin/manage/post-queue.js","sourcesContent":["'use strict';\n\n\ndefine('admin/manage/post-queue', function () {\n\tvar PostQueue = {};\n\n\tPostQueue.init = function () {\n\t\t$('[data-toggle=\"tooltip\"]').tooltip();\n\n\t\t$('.posts-list').on('click', '[data-action]', function () {\n\t\t\tvar parent = $(this).parents('[data-id]');\n\t\t\tvar action = $(this).attr('data-action');\n\t\t\tvar id = parent.attr('data-id');\n\t\t\tvar method = action === 'accept' ? 'posts.accept' : 'posts.reject';\n\n\t\t\tsocket.emit(method, { id: id }, function (err) {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn app.alertError(err.message);\n\t\t\t\t}\n\t\t\t\tparent.remove();\n\t\t\t});\n\t\t\treturn false;\n\t\t});\n\n\t\t$('.posts-list').on('input', '[data-id]', function () {\n\t\t\tvar el = $(this);\n\t\t\tsocket.emit('posts.editQueuedContent', {\n\t\t\t\tid: el.attr('data-id'),\n\t\t\t\tcontent: el.find('.post-content').html(),\n\t\t\t}, function (err) {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn app.alertError(err);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t};\n\n\treturn PostQueue;\n});\n"]}